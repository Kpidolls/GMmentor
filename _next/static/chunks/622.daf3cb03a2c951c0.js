"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[622],{622:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(7876),n=s(4232),i=s(746),l=s(4846);let c=e=>{let{position:t="top",showConnectionSpeed:s=!0,className:c=""}=e,{t:r}=(0,l.Bd)(),{isOnline:d,isStandalone:o,dataPreloadStatus:x}=(0,i.u)(),[f,m]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1),[p,j]=(0,n.useState)(""),[v,w]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if("connection"in navigator){let e=navigator.connection;j((null==e?void 0:e.effectiveType)||"")}if(d)if(u&&d){m(!1),w(!0);let e=setTimeout(()=>{w(!1),h(!1)},3e3);return()=>clearTimeout(e)}else m(!1);else h(!0),m(!0),w(!1);return()=>{}},[d,u]);let g="top"===t?"top-0":"bottom-0";if(o&&"loading"===x)return(0,a.jsx)("div",{className:"fixed ".concat(g," left-0 right-0 z-50 ").concat(c),children:(0,a.jsx)("div",{className:"bg-blue-600 text-white px-4 py-2 text-center text-sm shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:r("pwa.preloadingData","Preparing app for offline use...")})]})})});if(v)return(0,a.jsx)("div",{className:"fixed ".concat(g," left-0 right-0 z-50 ").concat(c),children:(0,a.jsx)("div",{className:"bg-green-500 text-white px-4 py-3 text-center text-sm shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 max-w-md mx-auto",children:[(0,a.jsxs)("div",{className:"w-4 h-4 relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-white rounded-full animate-ping opacity-75"}),(0,a.jsx)("div",{className:"relative w-4 h-4 bg-white rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-green-500 text-xs",children:"✓"})})]}),(0,a.jsx)("span",{className:"font-medium",children:r("pwa.backOnline","Back online!")}),s&&p&&(0,a.jsxs)("span",{className:"text-green-100 text-xs",children:["(",p,")"]})]})})});if(!f||d)return null;let N="completed"===x;return(0,a.jsx)("div",{className:"fixed ".concat(g," left-0 right-0 z-50 ").concat(c),children:(0,a.jsxs)("div",{className:"".concat(N?"bg-orange-500":"bg-red-500"," text-white px-4 py-3 text-center text-sm shadow-lg border-b ").concat(N?"border-orange-400":"border-red-400"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 max-w-md mx-auto",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-4 h-4 ".concat(N?"bg-orange-200":"bg-red-200"," rounded-full animate-pulse")}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-3 h-3 ".concat(N?"text-orange-600":"text-red-600"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("span",{className:"font-medium",children:N?r("pwa.offlineWithData","You're offline, but restaurants & maps are cached"):o?r("pwa.offlineStandalone","You're offline. Limited functionality available."):r("pwa.offline","You're offline. Some features may be limited.")})})]}),N&&(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-4 text-orange-100 text-xs mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:"\uD83C\uDF7D️"}),(0,a.jsx)("span",{children:r("pwa.offlineRestaurants","Restaurants")})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:"\uD83D\uDDFA️"}),(0,a.jsx)("span",{children:r("pwa.offlineMaps","Maps")})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:"\uD83C\uDFDD️"}),(0,a.jsx)("span",{children:r("pwa.offlineIslands","Islands")})]})]}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"".concat(N?"text-orange-100 hover:text-white":"text-red-100 hover:text-white"," text-xs underline transition-colors"),children:r("pwa.retry","Retry connection")})})]})})}}}]);