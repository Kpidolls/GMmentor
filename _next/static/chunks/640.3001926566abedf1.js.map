{"version":3,"file":"static/chunks/640.3001926566abedf1.js","mappings":"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","sources":["webpack://_N_E/./src/components/InstallBanner.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { usePWA } from '../hooks/usePWA';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\ninterface InstallBannerProps {\r\n  position?: 'bottom' | 'top';\r\n  showAfterDelay?: number; // ms\r\n  className?: string;\r\n}\r\n\r\nconst InstallBanner: React.FC<InstallBannerProps> = ({ \r\n  position = 'bottom', \r\n  showAfterDelay = 3000,\r\n  className = ''\r\n}) => {\r\n  const logDevWarning = (...args: unknown[]) => {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.warn(...args);\r\n    }\r\n  };\r\n\r\n  const { t } = useTranslation();\r\n  const { isInstallable, installApp, isInstalled, dismissInstallPrompt } = usePWA();\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [isInstalling, setIsInstalling] = useState(false);\r\n  const [showAnimation, setShowAnimation] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Don't show if not installable, already installed, or previously dismissed\r\n    if (!isInstallable || isInstalled) {\r\n      setIsVisible(false);\r\n      return;\r\n    }\r\n\r\n    // Check if user has dismissed banner in this session\r\n    const dismissed = sessionStorage.getItem('installBannerDismissed');\r\n    if (dismissed) {\r\n      setIsVisible(false);\r\n      return;\r\n    }\r\n\r\n    // Show banner after delay\r\n    const timer = setTimeout(() => {\r\n      setIsVisible(true);\r\n      // Trigger entrance animation\r\n      setTimeout(() => setShowAnimation(true), 100);\r\n    }, showAfterDelay);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [isInstallable, isInstalled, showAfterDelay]);\r\n\r\n  if (!isVisible || !isInstallable || isInstalled) {\r\n    return null;\r\n  }\r\n\r\n  const handleInstall = async () => {\r\n    setIsInstalling(true);\r\n    try {\r\n      const success = await installApp();\r\n      if (success) {\r\n        setIsVisible(false);\r\n      }\r\n    } catch (error) {\r\n      logDevWarning('Install failed:', error);\r\n    } finally {\r\n      setIsInstalling(false);\r\n    }\r\n  };\r\n\r\n  const handleDismiss = () => {\r\n    setShowAnimation(false);\r\n    setTimeout(() => {\r\n      setIsVisible(false);\r\n      dismissInstallPrompt();\r\n    }, 300); // Match animation duration\r\n  };\r\n\r\n  const positionClasses = position === 'top' \r\n    ? 'top-4' \r\n    : 'bottom-4';\r\n\r\n  const animationClasses = showAnimation\r\n    ? 'translate-y-0 opacity-100'\r\n    : position === 'top'\r\n    ? '-translate-y-full opacity-0'\r\n    : 'translate-y-full opacity-0';\r\n\r\n  return (\r\n    <div className={`fixed ${positionClasses} left-4 right-4 z-50 mx-auto max-w-md ${className}`}>\r\n      <div className={`\r\n        transform transition-all duration-300 ease-out\r\n        ${animationClasses}\r\n        bg-gradient-to-r from-blue-600 to-indigo-600 \r\n        text-white rounded-xl shadow-lg border border-blue-500/20\r\n        backdrop-blur-sm p-4\r\n      `}>\r\n        {/* Main Content */}\r\n        <div className=\"flex items-start space-x-3\">\r\n          {/* Icon */}\r\n          <div className=\"flex-shrink-0\">\r\n            <div className=\"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center\">\r\n              <span className=\"text-xl\">ðŸ“±</span>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Content */}\r\n          <div className=\"flex-1 min-w-0\">\r\n            <h3 className=\"text-sm font-semibold leading-tight\">\r\n              {t('pwa.installTitle', 'Install Googlementor')}\r\n            </h3>\r\n            <p className=\"text-xs text-blue-100 mt-1 leading-tight\">\r\n              {t('pwa.installDescription', 'Get quick access to authentic Greek restaurants and travel guides, even offline!')}\r\n            </p>\r\n            \r\n            {/* Benefits */}\r\n            <div className=\"mt-2 space-y-1\">\r\n              <div className=\"flex items-center space-x-1 text-xs text-blue-100\">\r\n                <span className=\"w-1 h-1 bg-blue-200 rounded-full\"></span>\r\n                <span>{t('pwa.benefit1', 'Works offline')}</span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-1 text-xs text-blue-100\">\r\n                <span className=\"w-1 h-1 bg-blue-200 rounded-full\"></span>\r\n                <span>{t('pwa.benefit2', 'Faster loading')}</span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-1 text-xs text-blue-100\">\r\n                <span className=\"w-1 h-1 bg-blue-200 rounded-full\"></span>\r\n                <span>{t('pwa.benefit3', 'Save time and avoid tourist traps')}</span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"flex space-x-2 mt-3\">\r\n              <button\r\n                onClick={handleInstall}\r\n                disabled={isInstalling}\r\n                className=\"\r\n                  bg-white text-blue-600 px-3 py-1.5 rounded-md text-sm font-medium \r\n                  hover:bg-blue-50 disabled:opacity-50 disabled:cursor-not-allowed\r\n                  transition-colors duration-200 flex items-center space-x-1\r\n                \"\r\n              >\r\n                {isInstalling ? (\r\n                  <>\r\n                    <div className=\"w-3 h-3 border border-blue-600/30 border-t-blue-600 rounded-full animate-spin\"></div>\r\n                    <span>{t('pwa.installing', 'Installing...')}</span>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <span>ðŸ“¥</span>\r\n                    <span>{t('pwa.install', 'Install')}</span>\r\n                  </>\r\n                )}\r\n              </button>\r\n              \r\n              <button\r\n                onClick={handleDismiss}\r\n                className=\"\r\n                  text-blue-100 hover:text-white px-3 py-1.5 text-sm \r\n                  transition-colors duration-200 flex items-center space-x-1\r\n                \"\r\n              >\r\n                <span>{t('pwa.notNow', 'Not now')}</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Close Button */}\r\n          <button\r\n            onClick={handleDismiss}\r\n            className=\"\r\n              flex-shrink-0 text-blue-200 hover:text-white transition-colors\r\n              w-6 h-6 flex items-center justify-center rounded\r\n            \"\r\n            aria-label={t('aria.close', 'Close')}\r\n          >\r\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        {/* Progress indicator (optional visual enhancement) */}\r\n        <div className=\"mt-3 w-full bg-blue-500/30 rounded-full h-1\">\r\n          <div \r\n            className=\"bg-white h-1 rounded-full transition-all duration-300\"\r\n            style={{ width: showAnimation ? '100%' : '0%' }}\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InstallBanner;"],"names":["position","InstallBanner","showAfterDelay","className","logDevWarning","args","t","useTranslation","isInstallable","installApp","isInstalled","dismissInstallPrompt","usePWA","isVisible","setIsVisible","useState","isInstalling","setIsInstalling","showAnimation","setShowAnimation","useEffect","sessionStorage","getItem","timer","setTimeout","clearTimeout","handleInstall","error","handleDismiss","div","positionClasses","span","h3","p","button","onClick","disabled","aria-label","svg","fill","stroke","viewBox","path","strokeLinecap","strokeLinejoin","strokeWidth","d","style","width"],"sourceRoot":"","ignoreList":[]}