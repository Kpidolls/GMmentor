{"version":3,"file":"static/chunks/316.045fee53afdab808.js","mappings":"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","sources":["webpack://_N_E/./src/lib/googleAds.ts","webpack://_N_E/./src/lib/gtag.ts","webpack://_N_E/./src/components/Analytics.tsx","webpack://_N_E/./node_modules/next/script.js","webpack://_N_E/./node_modules/next/dist/build/polyfills/process.js","webpack://_N_E/./node_modules/next/dist/compiled/process/browser.js","webpack://_N_E/./node_modules/next/router.js"],"sourcesContent":["export const GA_ADS_ID = process.env.NEXT_PUBLIC_GOOGLE_ADS_ID;\n","export const GA_TRACKING_ID = process.env.NEXT_PUBLIC_GOOGLE_ANALYTICS;\n\ndeclare global {\n  interface Window {\n    gtag?: (...args: unknown[]) => void;\n  }\n}\n\ntype ConsentState = 'granted' | 'denied';\n\nconst canUseGtag = () => {\n  return typeof window !== 'undefined' && typeof window.gtag === 'function' && !!GA_TRACKING_ID;\n};\n\nexport const updateConsent = (analyticsStorage: ConsentState) => {\n  if (!canUseGtag()) {\n    return;\n  }\n\n  window.gtag?.('consent', 'update', {\n    analytics_storage: analyticsStorage,\n    ad_storage: 'denied',\n    ad_user_data: 'denied',\n    ad_personalization: 'denied',\n  });\n};\n\n// https://developers.google.com/analytics/devguides/collection/gtagjs/pages\nexport const pageview = (url: string) => {\n  if (!canUseGtag()) {\n    return;\n  }\n\n  window.gtag?.('config', GA_TRACKING_ID, {\n    page_path: url,\n  });\n};\n\n// https://developers.google.com/analytics/devguides/collection/gtagjs/events\nexport const event = ({\n  action,\n  category,\n  label,\n  value,\n}: {\n  action: any;\n  category: any;\n  label: any;\n  value: any;\n}) => {\n  if (!canUseGtag()) {\n    return;\n  }\n\n  window.gtag?.('event', action, {\n    event_category: category,\n    event_label: label,\n    value,\n  });\n};\n","import React, { useEffect } from 'react';\n\nimport { useRouter } from 'next/router';\nimport Script from 'next/script';\n\nimport { GA_ADS_ID } from '../lib/googleAds';\nimport * as gtag from '../lib/gtag';\n\nconst App = () => {\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!gtag.GA_TRACKING_ID || typeof window === 'undefined') {\n      return;\n    }\n\n    const analyticsSrc = `https://www.googletagmanager.com/gtag/js?id=${gtag.GA_TRACKING_ID}`;\n    const analyticsWindow = window as Window & {\n      dataLayer?: unknown[][];\n    };\n\n    const getCookieValue = (cookieName: string) => {\n      const encodedName = encodeURIComponent(cookieName);\n      const match = document.cookie.match(new RegExp(`(?:^|; )${encodedName}=([^;]*)`));\n      const cookieValue = match?.[1];\n      return cookieValue ? decodeURIComponent(cookieValue) : '';\n    };\n\n    const normalizeConsentValue = (value: unknown): 'granted' | 'denied' | null => {\n      if (typeof value === 'boolean') {\n        return value ? 'granted' : 'denied';\n      }\n\n      if (typeof value === 'number') {\n        if (value === 1) {\n          return 'granted';\n        }\n        if (value === 0) {\n          return 'denied';\n        }\n        return null;\n      }\n\n      if (typeof value === 'string') {\n        const normalizedValue = value.trim().toLowerCase();\n        if (['yes', 'true', '1', 'allow', 'allowed', 'accept', 'accepted', 'granted'].includes(normalizedValue)) {\n          return 'granted';\n        }\n\n        if (['no', 'false', '0', 'deny', 'denied', 'reject', 'rejected'].includes(normalizedValue)) {\n          return 'denied';\n        }\n      }\n\n      return null;\n    };\n\n    const getAnalyticsConsentFromCookieYes = (): 'granted' | 'denied' | null => {\n      const consentCookie = getCookieValue('cookieyes-consent') || getCookieValue('cky-consent');\n      if (!consentCookie) {\n        return null;\n      }\n\n      const grantedPattern = /analytics\\s*[:=]\\s*(yes|true|1|allow|allowed|accept|accepted|granted)/i;\n      const deniedPattern = /analytics\\s*[:=]\\s*(no|false|0|deny|denied|reject|rejected)/i;\n\n      if (grantedPattern.test(consentCookie)) {\n        return 'granted';\n      }\n\n      if (deniedPattern.test(consentCookie)) {\n        return 'denied';\n      }\n\n      try {\n        const parsedConsent = JSON.parse(consentCookie) as Record<string, unknown>;\n        const directValue = normalizeConsentValue(parsedConsent.analytics);\n        if (directValue) {\n          return directValue;\n        }\n\n        const consentGroup = parsedConsent.consent as Record<string, unknown> | undefined;\n        const categoryGroup = parsedConsent.categories as Record<string, unknown> | undefined;\n\n        const consentValue = normalizeConsentValue(consentGroup?.analytics);\n        if (consentValue) {\n          return consentValue;\n        }\n\n        const categoryValue = normalizeConsentValue(categoryGroup?.analytics);\n        if (categoryValue) {\n          return categoryValue;\n        }\n      } catch {\n      }\n\n      const quotedMatch = consentCookie.match(/\"analytics\"\\s*:\\s*(\"?)(true|false|yes|no|1|0)\\1/i);\n      if (quotedMatch?.[2]) {\n        return normalizeConsentValue(quotedMatch[2]);\n      }\n\n      return null;\n    };\n\n    const initializeGtag = () => {\n      analyticsWindow.dataLayer = analyticsWindow.dataLayer || [];\n\n      function gtagInit(...args: unknown[]) {\n        analyticsWindow.dataLayer?.push(args);\n      }\n\n      window.gtag = gtagInit as typeof window.gtag;\n\n      window.gtag?.('consent', 'default', {\n        analytics_storage: 'denied',\n        ad_storage: 'denied',\n        ad_user_data: 'denied',\n        ad_personalization: 'denied',\n        wait_for_update: 500,\n      });\n\n      window.gtag?.('js', new Date());\n      window.gtag?.('config', gtag.GA_TRACKING_ID, {\n        send_page_view: false,\n      });\n\n      const consentState = getAnalyticsConsentFromCookieYes();\n      if (consentState) {\n        gtag.updateConsent(consentState);\n      }\n\n      gtag.pageview(`${window.location.pathname}${window.location.search}`);\n    };\n\n    const loadAnalytics = () => {\n      const existingScript = document.querySelector(`script[src=\"${analyticsSrc}\"]`) as HTMLScriptElement | null;\n\n      if (!existingScript) {\n        const script = document.createElement('script');\n        script.src = analyticsSrc;\n        script.async = true;\n        script.onload = initializeGtag;\n        document.head.appendChild(script);\n        return;\n      }\n\n      if (typeof window.gtag !== 'function') {\n        existingScript.addEventListener('load', initializeGtag, { once: true });\n      }\n    };\n\n    const analyticsBootDelay = window.setTimeout(loadAnalytics, 1200);\n\n    const syncConsent = () => {\n      const consentState = getAnalyticsConsentFromCookieYes();\n      if (!consentState) {\n        return;\n      }\n\n      gtag.updateConsent(consentState);\n    };\n\n    const consentEvents = [\n      'cookieyes_consent_update',\n      'cookieyes_consent_accept',\n      'cookieyes_consent_reject',\n      'cookieyes_banner_close',\n    ];\n\n    consentEvents.forEach((eventName) => {\n      window.addEventListener(eventName, syncConsent as EventListener);\n    });\n    const delayedConsentSync = window.setTimeout(syncConsent, 4000);\n\n    return () => {\n      consentEvents.forEach((eventName) => {\n        window.removeEventListener(eventName, syncConsent as EventListener);\n      });\n      window.clearTimeout(analyticsBootDelay);\n      window.clearTimeout(delayedConsentSync);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!gtag.GA_TRACKING_ID) {\n      return;\n    }\n\n    const handleRouteChange = (url: string) => {\n      if (typeof window.gtag !== 'function') {\n        return;\n      }\n      gtag.pageview(url);\n    };\n    router.events.on('routeChangeComplete', handleRouteChange);\n    return () => {\n      router.events.off('routeChangeComplete', handleRouteChange);\n    };\n  }, [router.events]);\n\n  return (\n    <>\n      {GA_ADS_ID && (\n        <Script\n          strategy=\"lazyOnload\"\n          async\n          src={`https://www.googletagmanager.com/gtag/js?id=${GA_ADS_ID}`}\n          crossOrigin=\"anonymous\"\n        />\n      )}\n    </>\n  );\n};\n\nexport default App;\n","module.exports = require('./dist/client/script')\n","\"use strict\";\nvar _global_process, _global_process1;\nmodule.exports = ((_global_process = global.process) == null ? void 0 : _global_process.env) && typeof ((_global_process1 = global.process) == null ? void 0 : _global_process1.env) === 'object' ? global.process : require('next/dist/compiled/process');\n\n//# sourceMappingURL=process.js.map","(function(){var e={229:function(e){var t=e.exports={};var r;var n;function defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}(function(){try{if(typeof setTimeout===\"function\"){r=setTimeout}else{r=defaultSetTimout}}catch(e){r=defaultSetTimout}try{if(typeof clearTimeout===\"function\"){n=clearTimeout}else{n=defaultClearTimeout}}catch(e){n=defaultClearTimeout}})();function runTimeout(e){if(r===setTimeout){return setTimeout(e,0)}if((r===defaultSetTimout||!r)&&setTimeout){r=setTimeout;return setTimeout(e,0)}try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function runClearTimeout(e){if(n===clearTimeout){return clearTimeout(e)}if((n===defaultClearTimeout||!n)&&clearTimeout){n=clearTimeout;return clearTimeout(e)}try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}var i=[];var o=false;var u;var a=-1;function cleanUpNextTick(){if(!o||!u){return}o=false;if(u.length){i=u.concat(i)}else{a=-1}if(i.length){drainQueue()}}function drainQueue(){if(o){return}var e=runTimeout(cleanUpNextTick);o=true;var t=i.length;while(t){u=i;i=[];while(++a<t){if(u){u[a].run()}}a=-1;t=i.length}u=null;o=false;runClearTimeout(e)}t.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}i.push(new Item(e,t));if(i.length===1&&!o){runTimeout(drainQueue)}};function Item(e,t){this.fun=e;this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};t.title=\"browser\";t.browser=true;t.env={};t.argv=[];t.version=\"\";t.versions={};function noop(){}t.on=noop;t.addListener=noop;t.once=noop;t.off=noop;t.removeListener=noop;t.removeAllListeners=noop;t.emit=noop;t.prependListener=noop;t.prependOnceListener=noop;t.listeners=function(e){return[]};t.binding=function(e){throw new Error(\"process.binding is not supported\")};t.cwd=function(){return\"/\"};t.chdir=function(e){throw new Error(\"process.chdir is not supported\")};t.umask=function(){return 0}}};var t={};function __nccwpck_require__(r){var n=t[r];if(n!==undefined){return n.exports}var i=t[r]={exports:{}};var o=true;try{e[r](i,i.exports,__nccwpck_require__);o=false}finally{if(o)delete t[r]}return i.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var r=__nccwpck_require__(229);module.exports=r})();","module.exports = require('./dist/client/router')\n"],"names":["GA_ADS_ID","process","env","NEXT_PUBLIC_GOOGLE_ADS_ID","window","gtag","GA_TRACKING_ID","updateConsent","canUseGtag","analytics_storage","analyticsStorage","ad_storage","ad_user_data","ad_personalization","url","page_path","router","useRouter","useEffect","analyticsSrc","analyticsWindow","getCookieValue","encodedName","encodeURIComponent","cookieName","match","document","cookie","RegExp","cookieValue","decodeURIComponent","normalizeConsentValue","value","normalizedValue","trim","toLowerCase","includes","getAnalyticsConsentFromCookieYes","consentCookie","test","parsedConsent","JSON","parse","directValue","analytics","consentGroup","consent","categoryGroup","categories","consentValue","categoryValue","quotedMatch","initializeGtag","dataLayer","gtagInit","args","push","wait_for_update","Date","send_page_view","consentState","location","pathname","search","analyticsBootDelay","setTimeout","loadAnalytics","existingScript","querySelector","script","createElement","src","async","onload","head","appendChild","addEventListener","once","syncConsent","consentEvents","forEach","eventName","delayedConsentSync","removeEventListener","clearTimeout","handleRouteChange","events","on","off","Script","strategy","crossOrigin"],"sourceRoot":"","ignoreList":[3,4,5,6]}